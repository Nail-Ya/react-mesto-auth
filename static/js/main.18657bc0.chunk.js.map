{"version":3,"sources":["images/successPopupIcon.svg","images/errorPopupIcon.svg","images/loaderPopup.svg","images/logo.svg","images/loading-gif.gif","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","utils/utils.js","utils/api.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/DeleteCardPopup.js","components/ProtectedRoute.js","components/Register.js","components/Login.js","components/InfoTooltip.js","utils/auth.js","components/App.js","serviceWorker.js","index.js"],"names":["module","exports","Header","props","userEmail","onSignOut","className","src","logo","alt","path","to","onClick","CurrentUserContext","React","createContext","Card","card","onCardClick","onCardLike","onCardDeletePopup","currentUser","useContext","isOwn","owner","_id","isLiked","likes","some","i","link","name","type","length","Main","onEditAvatar","onEditProfile","onAddPlace","cards","isLoading","loadingGif","avatar","about","map","item","key","Footer","ImagePopup","onClose","isImagePopupOpen","BASE_URL","api","this","_url","res","ok","json","Promise","reject","status","token","fetch","method","headers","then","_handleResponse","newUserInfo","body","JSON","stringify","newCard","inputValue","like","PopupWithForm","isOpen","children","onSubmit","EditProfilePopup","onUpdateUser","buttonText","buttonTextLoading","handleChange","values","error","isFormValid","submitButton","e","preventDefault","id","onChange","value","placeholder","required","minLength","maxLength","pattern","EditAvatarPopup","onUpdateAvatar","AddPlacePopup","onAddCard","cardName","cardLink","DeleteCardPopup","onConfirmDelete","ProtectedRoute","Component","component","loggedIn","Register","onRegister","evt","registerPassword","registerEmail","Login","onLogin","history","useHistory","loginPassword","loginEmail","push","catch","err","console","log","InfoTooltip","popupInfo","iconPath","popupMessage","getContent","data","App","useState","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isDeleteCardPopupOpen","setIsDeleteCardPopupOpen","isInfoTooltipOpen","setIsInfoTooltipOpen","cardToDelete","setCardToDelete","selectedCard","setSelectedCard","setCurrentUser","setCards","setIsLoading","setLoggedIn","setUserEmail","loader","setPopupInfo","localStorage","getItem","setToken","setValues","setIsFormValid","setError","target","validationMessage","closest","checkValidity","closeAllPopups","useEffect","jwt","auth","email","getUserInfo","message","finally","getInitialCards","handleEscClose","event","closeByOverlay","classList","contains","document","addEventListener","removeEventListener","Provider","removeItem","exact","changeLikeCardStatus","newCards","password","response","Error","setItem","successPopupIcon","errorPopupIcon","userData","updateUserInfo","newUserData","addNewCard","newCardData","updateUserAvatar","deletePhoto","filter","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.18657bc0.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/successPopupIcon.e38b395c.svg\";","module.exports = __webpack_public_path__ + \"static/media/errorPopupIcon.4072126c.svg\";","module.exports = __webpack_public_path__ + \"static/media/loaderPopup.02a0ebf9.svg\";","module.exports = __webpack_public_path__ + \"static/media/logo.c6f11019.svg\";","module.exports = __webpack_public_path__ + \"static/media/loading-gif.41702357.gif\";","import React from 'react';\nimport logo from './../images/logo.svg';\nimport { Link, Switch, Route } from 'react-router-dom';\n\nfunction Header(props) {\n  const {\n    userEmail,\n    onSignOut\n  } = props;\n\n  return (\n    <header className=\"header\">\n      <img\n        src={logo}\n        alt=\"Логотип место\"\n        className=\"header__logo\"\n      />\n\n      <Switch>\n        <Route path=\"/sign-up\">\n          <Link to=\"/sign-in\" className=\"header__link\">Войти</Link>\n        </Route>\n        <Route path=\"/sign-in\">\n          <Link to=\"/sign-up\" className=\"header__link\">Регистрация</Link>\n        </Route>\n        <Route path=\"/\">\n          <div className=\"header__info\">\n            <p className=\"header__email\">{userEmail}</p>\n            <Link\n              to=\"/sign-in\"\n              className=\"header__link header__link_dim\"\n              onClick={onSignOut}\n            >\n              Выйти\n            </Link>\n          </div>\n        </Route>\n      </Switch>\n    </header>\n  );\n}\n\nexport default Header;\n","import React from 'react';\n\nexport const CurrentUserContext = React.createContext();\n","import React from 'react';\nimport {CurrentUserContext} from './../contexts/CurrentUserContext.js';\n\nfunction Card(props) {\n  const {\n    card,\n    onCardClick,\n    onCardLike,\n    onCardDeletePopup\n  } = props;\n\n  // подписка на контекст\n  const currentUser = React.useContext(CurrentUserContext);\n\n  // определяем, являемся ли мы владельцем текущей карточки\n  const isOwn = card.owner === currentUser._id;\n\n  // определяем, есть ли у карточки лайк, поставленный текущим пользователем\n  const isLiked = card.likes.some(i => i === currentUser._id);\n\n  return (\n    <div className=\"element\">\n      <img\n        className=\"element__img\"\n        src={card.link}\n        alt={card.name}\n        onClick={() => onCardClick(card)}\n      />\n      <button\n        className={`element__delete-button ${isOwn ? '' : 'element__delete-button_disactive'}`}\n        type=\"button\"\n        onClick={() => onCardDeletePopup(card)}\n      />\n      <div className=\"element__info\">\n        <p className=\"element__name\">\n          {card.name}\n        </p>\n        <div className=\"element__like-section\">\n          <button\n            className={`element__like-button ${isLiked ? 'element__like-button_active' : ''}`}\n            type=\"button\"\n            onClick={() => onCardLike(card)}\n          />\n          <p className=\"element__like-counter\">\n            {card.likes.length}\n          </p>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Card;\n","import React from 'react';\nimport Card from './Card';\nimport {CurrentUserContext} from './../contexts/CurrentUserContext.js';\nimport loadingGif from './../images/loading-gif.gif';\n\nfunction Main(props) {\n  const {\n    onEditAvatar,\n    onEditProfile,\n    onAddPlace,\n    onCardClick,\n    cards,\n    onCardLike,\n    onCardDeletePopup,\n    isLoading,\n  } = props;\n\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n    <main className=\"content\">\n      <section className=\"profile\">\n        <div className=\"profile__avatar-section\">\n          <img\n            alt=\"Фотография пользователя\"\n            className=\"profile__avatar-image\"\n            src={isLoading ? loadingGif : currentUser.avatar}\n          />\n          <button\n            className=\"profile__avatar-change-button\"\n            type=\"button\"\n            onClick={onEditAvatar}\n          />\n        </div>\n\n        <div className=\"profile__info\">\n          <div className=\"profile__container\">\n            <h1 className=\"profile__name\">\n              {isLoading ? 'Загрузка...' : currentUser.name}\n            </h1>\n            <button\n              className=\"profile__edit-button\"\n              type=\"button\"\n              onClick={onEditProfile}\n            />\n          </div>\n          <p className=\"profile__job\">\n            {isLoading ? 'Загрузка...' : currentUser.about}\n          </p>\n        </div>\n        <button\n          className=\"profile__add-button\"\n          type=\"button\"\n          onClick={onAddPlace}\n        />\n      </section>\n\n      <section className=\"elements\">\n        {cards.map((item) => (\n          <Card\n            card={item}\n            key={item._id}\n            onCardClick={onCardClick}\n            onCardLike={onCardLike}\n            onCardDeletePopup={onCardDeletePopup}\n          />\n        ))}\n      </section>\n    </main>\n  );\n}\n\nexport default Main;\n","import React from 'react';\n\nfunction Footer() {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\">\n        &copy; 2020 Mesto Russia\n      </p>\n    </footer>\n  );\n}\n\nexport default Footer;\n","import React from 'react';\n\nfunction ImagePopup(props) {\n  const {\n    card,\n    onClose\n  } = props;\n\n  return (\n    <div className={\"popup popup_open_image \" + (card.isImagePopupOpen && \"popup_opened\")}>\n      <div className=\"popup__container\">\n        <img\n          className=\"popup__image\"\n          src={card.link}\n          alt={card.name}\n        />\n        <button\n          className=\"popup__close-button\"\n          type=\"button\"\n          onClick={onClose}\n        />\n        <p className=\"popup__image-name\">\n          {card.name}\n        </p>\n      </div>\n    </div>\n  );\n}\n\nexport default ImagePopup;\n","// BASE_URL\nexport const BASE_URL = 'https://www.api.gss.students.nomoreparties.xyz';\n","import {BASE_URL} from './utils.js'\n\nclass Api {\n  constructor() {\n    this._url = BASE_URL;\n  }\n\n  // метод для обработки ответов от сервера\n  _handleResponse(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(`${res.status}`);\n  }\n\n // получение карточек из сервера\n getInitialCards(token) {\n  return fetch(`${this._url}/cards`, {\n    method: 'GET',\n    headers: {\n      'Content-Type': 'application/json',\n      'Authorization': `Bearer ${token}`\n    }\n  })\n  .then(this._handleResponse)\n}\n\n  // получение данных пользователя\n  getUserInfo(token) {\n    return fetch(`${this._url}/users/me`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`\n      }\n    })\n    .then(this._handleResponse)\n  }\n\n  // обновление информации о пользователе\n  updateUserInfo(newUserInfo, token) {\n    return fetch(`${this._url}/users/me`, {\n      method: 'PATCH',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`\n      },\n      body: JSON.stringify({\n        name: newUserInfo.name,\n        about: newUserInfo.about\n      })\n    })\n    .then(this._handleResponse)\n  }\n\n  // добавление новой карточки\n  addNewCard(newCard, token) {\n    return fetch(`${this._url}/cards`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`\n      },\n      body: JSON.stringify({\n        name: newCard.name,\n        link: newCard.link\n      })\n    })\n    .then(this._handleResponse)\n  }\n\n  // удаление фото\n  deletePhoto(card, token) {\n    return fetch(`${this._url}/cards/${card._id}`, {\n      method: 'DELETE',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`\n      },\n    })\n    .then(this._handleResponse)\n  }\n\n  // обновление аватара профиля\n  updateUserAvatar(inputValue, token) {\n    return fetch(`${this._url}/users/me/avatar`, {\n      method: 'PATCH',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`\n      },\n      body: JSON.stringify({\n        avatar: inputValue.avatar\n      })\n    })\n    .then(this._handleResponse)\n  }\n\n  // поставить / убрать лайк: 2 разных метода запроса для удаления и постановки лайка\n  changeLikeCardStatus(card, like, token) {\n    return fetch(`${this._url}/cards/${card._id}/likes/`, {\n      method: like ? 'PUT' : 'DELETE',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`\n      },\n    })\n    .then(this._handleResponse)\n  }\n}\n\nexport const api = new Api();\n","import React from 'react';\n\nfunction PopupWithForm(props) {\n  const {\n    name,\n    isOpen,\n    children,\n    onClose,\n    onSubmit,\n  } = props;\n\n  return (\n    <div className={`popup popup_${name} ` + (isOpen && 'popup_opened')}>\n      <form\n        className={`popup__form popup__form_${name}`}\n        name={name}\n        onSubmit={onSubmit}\n      >\n        {children}\n        <button\n          className=\"popup__close-button\"\n          type=\"button\"\n          onClick={onClose}\n        />\n      </form>\n    </div>\n  );\n}\n\nexport default PopupWithForm;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction EditProfilePopup(props) {\n  const {\n    isOpen,\n    onClose,\n    onUpdateUser,\n    isLoading,\n    buttonText,\n    buttonTextLoading,\n    handleChange,\n    values,\n    error,\n    isFormValid,\n  } = props;\n\n  // колбек для события onSubmit формы изменения данных профиля\n  function handleSubmit(e) {\n    e.preventDefault();\n    // передать значения инпутов во внешний обработчик в App где идет работа с API\n    onUpdateUser({\n      name: values.name,\n      about: values.about,\n    });\n  }\n\n  // отключение кнопки\n  const submitButton = `${\n    isFormValid ? 'popup__button' : 'popup__button popup__button_disabled'\n  }`;\n\n  return (\n    <PopupWithForm\n      isOpen={isOpen}\n      onClose={onClose}\n      name='edit_profile'\n      onSubmit={handleSubmit}\n    >\n      <p className=\"popup__text\">Редактировать профиль</p>\n      <input\n        name= \"name\"\n        id=\"name-input\"\n        type=\"text\"\n        onChange={handleChange}\n        value={values.name || ''}\n        className=\"popup__input popup__input_edit_name\"\n        placeholder=\"Ваше имя\"\n        required\n        minLength=\"2\"\n        maxLength=\"40\"\n        pattern=\"[A-Za-z А-ЯЁа-яё -]{1,}\"\n      />\n      <span\n        id=\"name-input-error\"\n        className=\"popup__input_error_active\"\n        >\n        {error.name || ''}\n      </span>\n      <input\n        name= \"about\"\n        id=\"job-input\"\n        type=\"text\"\n        onChange={handleChange}\n        value={values.about || ''}\n        className=\"popup__input popup__input_edit_job\"\n        placeholder=\"Род деятельности\"\n        required\n        minLength=\"2\"\n        maxLength=\"200\"\n      />\n      <span\n        id=\"job-input-error\"\n        className=\"popup__input_error_active\"\n        >\n        {error.about || ''}\n      </span>\n      <button\n        className={submitButton}\n        type=\"submit\">\n          {\n            isLoading ? buttonTextLoading : buttonText\n          }\n      </button>\n    </PopupWithForm>\n  );\n}\n\nexport default EditProfilePopup;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction EditAvatarPopup(props) {\n  const {\n    isOpen,\n    onClose,\n    onUpdateAvatar,\n    isLoading,\n    buttonText,\n    buttonTextLoading,\n    handleChange,\n    values,\n    error,\n    isFormValid,\n  } = props;\n\n  // колбек для события onSubmit формы изменения аватара пользователя\n  function handleSubmit(e) {\n    e.preventDefault();\n    // передать значения инпутов во внешний обработчик в App где идет работа с API\n    onUpdateAvatar({\n      avatar: values.avatar,\n    });\n  }\n\n // отключение кнопки\n  const submitButton = `${\n    isFormValid ? 'popup__button' : 'popup__button popup__button_disabled'\n  }`;\n\n  return(\n    <PopupWithForm\n      isOpen={isOpen}\n      onClose={onClose}\n      name='change_avatar'\n      onSubmit={handleSubmit}\n    >\n      <p className=\"popup__text\">Обновить аватар</p>\n      <input\n        name=\"avatar\"\n        id=\"avatar-input\"\n        type=\"url\"\n        className=\"popup__input popup__input_avatar_link\"\n        placeholder=\"Ссылка на картинку\"\n        required\n        onChange={handleChange}\n        value={values.avatar || ''}\n      />\n      <span\n        id=\"avatar-input-error\"\n        className=\"popup__input_error_active\"\n      >\n        {error.avatar || ''}\n      </span>\n      <button\n        className={submitButton}\n        type=\"submit\">\n          {\n            isLoading ? buttonTextLoading : buttonText\n          }\n      </button>\n    </PopupWithForm>\n  );\n}\n\nexport default EditAvatarPopup;\n\n\n\n\n\n\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction AddPlacePopup(props) {\n  const {\n    isOpen,\n    onClose,\n    onAddCard,\n    isLoading,\n    buttonText,\n    buttonTextLoading,\n    handleChange,\n    values,\n    error,\n    isFormValid,\n  } = props;\n\n  // колбек для события onSubmit формы добавления карточки\n  function handleSubmit(e) {\n    e.preventDefault();\n    // передать значения инпутов во внешний обработчик в App где идет работа с API\n    onAddCard({\n      name: values.cardName,\n      link: values.cardLink\n    });\n  }\n\n  // отключение кнопки\n  const submitButton = `${\n    isFormValid ? 'popup__button' : 'popup__button popup__button_disabled'\n  }`;\n\n  return(\n    <PopupWithForm\n      isOpen={isOpen}\n      onClose={onClose}\n      name='add_place'\n      onSubmit={handleSubmit}\n    >\n\n      <p className=\"popup__text\">Новое место</p>\n      <input\n        name=\"cardName\"\n        id=\"title-input\"\n        type=\"text\"\n        className=\"popup__input popup__input_place_name\"\n        placeholder=\"Название\"\n        required\n        minLength=\"2\"\n        maxLength=\"30\"\n        onChange={handleChange}\n        value={values.cardName || ''}\n      />\n      <span\n        id=\"title-input-error\"\n        className=\"popup__input_error_active\"\n      >\n        {error.cardName || ''}\n      </span>\n      <input\n        name=\"cardLink\"\n        id=\"url-input\"\n        type=\"url\"\n        className=\"popup__input popup__input_place_link\"\n        placeholder=\"Ссылка на картинку\"\n        required\n        onChange={handleChange}\n        value={values.cardLink || ''}\n      />\n      <span\n        id=\"url-input-error\"\n        className=\"popup__input_error_active\"\n      >\n        {error.cardLink || ''}\n      </span>\n      <button\n        className={submitButton}\n        type=\"submit\">\n          {\n            isLoading ? buttonTextLoading : buttonText\n          }\n      </button>\n    </PopupWithForm>\n  );\n}\n\nexport default AddPlacePopup;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction DeleteCardPopup(props) {\n  const {\n    isOpen,\n    onClose,\n    isLoading,\n    onConfirmDelete,\n    buttonText,\n    buttonTextLoading\n  } = props;\n\n  // колбек для события onSubmit формы удаления карточки\n  function handleSubmit(e) {\n    e.preventDefault();\n    // передача события submit во внешний обработчик в App где идет работа с API\n    onConfirmDelete();\n  }\n\n  return (\n    <PopupWithForm\n      name='delete_card'\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n    >\n      <p className=\"popup__text\">Вы уверены?</p>\n      <button\n        className=\"popup__button\"\n        type=\"submit\">\n          {\n            isLoading ? buttonTextLoading : buttonText\n          }\n      </button>\n    </PopupWithForm>\n  );\n}\n\nexport default DeleteCardPopup;\n","import React from 'react';\nimport { Route, Redirect } from \"react-router-dom\";\n\n// этот компонент принимает другой компонент в качестве пропса\n// он также может взять неограниченное число пропсов и передать их новому компоненту\nconst ProtectedRoute = ({ component: Component, ...props  }) => {\n  return (\n    <Route>\n      {\n        () => props.loggedIn ? <Component {...props} /> : <Redirect to=\"/sign-in\" />\n      }\n    </Route>\n)}\n\nexport default ProtectedRoute;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\nfunction Register(props) {\n  const {\n    onRegister,\n    handleChange,\n    values,\n    error,\n    isFormValid,\n  } = props;\n\n  // колбек сабмита формы\n  function handleSubmit(evt) {\n    evt.preventDefault();\n    onRegister(values.registerPassword, values.registerEmail);\n  }\n\n  // отключение кнопки\n  const submitButton = `${\n    isFormValid ? 'register__submit-button' : 'register__submit-button register__submit-button_disabled'\n  }`;\n\n  return(\n    <div className=\"register\">\n      <form className=\"register__form\" onSubmit={handleSubmit}>\n        <p className=\"register__title\">Регистрация</p>\n        <input\n          name=\"registerEmail\"\n          type=\"email\"\n          className=\"register__input\"\n          placeholder=\"Email\"\n          onChange={handleChange}\n          value={values.registerEmail || ''}\n          required\n          minLength='5'\n          maxLength='40'\n        />\n        <span className=\"popup__input-register_error_active\">\n          {error.registerEmail || ''}\n        </span>\n        <input\n          name=\"registerPassword\"\n          type=\"password\"\n          className=\"register__input\"\n          placeholder=\"Пароль\"\n          onChange={handleChange}\n          value={values.registerPassword || ''}\n          required\n          minLength='5'\n          maxLength='20'\n        />\n        <span className=\"popup__input-register_error_active\">\n          {error.registerPassword || ''}\n        </span>\n        <button className={submitButton} type=\"submit\">Зарегистрироваться</button>\n      </form>\n      <div className=\"register__link-container\">\n        <p className=\"register__text\">Уже зарегистрированы?&nbsp;</p>\n        <Link to=\"/sign-in\" className=\"register__link\">Войти</Link>\n      </div>\n    </div>\n  )\n}\n\nexport default Register;\n","import React from 'react';\nimport { Link, useHistory } from 'react-router-dom';\n\nfunction Login(props) {\n  const {\n    onLogin,\n    handleChange,\n    values,\n    error,\n    isFormValid,\n  } = props;\n\n  const history = useHistory();\n\n  // колбек сабмита формы\n  function handleSubmit(evt) {\n    evt.preventDefault()\n    onLogin(values.loginPassword, values.loginEmail)\n      .then(() => {\n        history.push('/')\n      })\n      .catch(err => console.log(err));\n  }\n\n  // отключение кнопки\n  const submitButton = `${\n    isFormValid ? 'register__submit-button' : 'register__submit-button register__submit-button_disabled'\n  }`;\n\n  return(\n    <div className=\"register\">\n      <form className=\"register__form\" onSubmit={handleSubmit}>\n        <p className=\"register__title\">Вход</p>\n        <input\n          name=\"loginEmail\"\n          type=\"email\"\n          className=\"register__input\"\n          placeholder=\"Email\"\n          onChange={handleChange}\n          value={values.loginEmail || ''}\n          required\n          minLength='5'\n          maxLength='40'\n        />\n        <span className=\"popup__input-register_error_active\">\n          {error.loginEmail || ''}\n        </span>\n        <input\n          name=\"loginPassword\"\n          type=\"password\"\n          className=\"register__input\"\n          placeholder=\"Пароль\"\n          onChange={handleChange}\n          value={values.loginPassword || ''}\n          required\n          minLength='5'\n          maxLength='20'\n        />\n        <span className=\"popup__input-register_error_active\">\n          {error.loginPassword || ''}\n        </span>\n        <button className={submitButton} type=\"submit\">Войти</button>\n      </form>\n      <div className=\"register__link-container\">\n        <p className=\"register__text\">Ещё не зарегистрированы?&nbsp;</p>\n        <Link to=\"/sign-up\" className=\"register__link\">Регистрация</Link>\n      </div>\n    </div>\n  )\n}\n\nexport default Login;\n","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction InfoTooltip(props) {\n  const {\n    isOpen,\n    onClose,\n    popupInfo\n  } = props;\n\n  return (\n    <PopupWithForm\n      isOpen={isOpen}\n      onClose={onClose}\n      name='infoTooltip'\n    >\n    <img src={popupInfo.iconPath} alt=\"Картинка авторизации\" className=\"popup__icon\" />\n    <p className=\"popup__text popup__text_type_tooltip\">{popupInfo.popupMessage}</p>\n    </PopupWithForm>\n  );\n}\n\nexport default InfoTooltip;\n","import {BASE_URL} from './utils.js'\n\n// отправка запроса на регистрацию\nexport const register = (password, email) => {\n  return fetch(`${BASE_URL}/signup`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    body: JSON.stringify({ password, email }),\n  })\n  .then((response) => {\n    if (!response.ok){\n      return response.json()\n        .then((err) => {\n          throw new Error(err.message);\n        })\n    }\n    return response.json();\n  })\n}\n\n// отправка запроса на логин\nexport const authorize = (password, email) => {\n  return fetch(`${BASE_URL}/signin`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({ password, email }),\n  })\n  .then(response => {\n    if (!response.ok){\n      return response.json()\n        .then((err) => {\n          throw new Error(err.message);\n        })\n    }\n    return response.json();\n  })\n  .then((data) => {\n    if (data.token){\n      localStorage.setItem('jwt', data.token);\n      return data;\n    }\n  })\n};\n\n// отправка запроса для получения данных пользователя\nexport const getContent = (token) => {\n  return fetch(`${BASE_URL}/users/me`, {\n    method: 'GET',\n    headers: {\n      'Content-Type': 'application/json',\n      'Authorization': `Bearer ${token}`\n    }\n  })\n  .then(res => res.json())\n  .then(data => data)\n}\n","import React from 'react';\nimport Header from './Header';\nimport Main from './Main';\nimport Footer from './Footer';\nimport ImagePopup from './ImagePopup';\nimport {api} from './../utils/api.js';\nimport {CurrentUserContext} from './../contexts/CurrentUserContext.js';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport DeleteCardPopup from './DeleteCardPopup';\nimport { Route, Switch, Redirect, useHistory } from 'react-router-dom';\nimport ProtectedRoute from './ProtectedRoute';\nimport Register from './Register';\nimport Login from './Login';\nimport InfoTooltip from './InfoTooltip';\nimport * as auth from '../utils/auth.js';\nimport successPopupIcon from './../images/successPopupIcon.svg';\nimport errorPopupIcon from './../images/errorPopupIcon.svg';\nimport loader from './../images/loaderPopup.svg';\n\nfunction App() {\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n  const [isDeleteCardPopupOpen, setIsDeleteCardPopupOpen] = React.useState(false);\n\n  const [isInfoTooltipOpen, setIsInfoTooltipOpen] = React.useState(false);\n\n  const [cardToDelete, setCardToDelete] = React.useState({});\n  const [selectedCard, setSelectedCard] = React.useState({\n    isImagePopupOpen: false,\n    link: '',\n    name: '',\n  });\n  const [currentUser, setCurrentUser] = React.useState({\n    name: '',\n    about:''\n  });\n  const [cards, setCards] = React.useState([]);\n  const [isLoading, setIsLoading] = React.useState(false);\n  const [loggedIn, setLoggedIn] = React.useState(false);\n  const [userEmail, setUserEmail] = React.useState('');\n  const [popupInfo, setPopupInfo] = React.useState({\n    iconPath: loader,\n    popupMessage: ''\n  });\n\n  const [token, setToken] = React.useState(localStorage.getItem('jwt'));\n\n  const history = useHistory();\n\n  // Валидация форм\n  // state переменные для валидации формы\n  const [values, setValues] = React.useState({});\n  const [isFormValid, setIsFormValid] = React.useState(false);\n  const [error, setError] = React.useState({});\n\n  // функция валидации формы: отслеживает инпуты и отображает ошибку\n  function handleChange(e) {\n    const name = e.target.name;\n    const value = e.target.value;\n    setValues({ ...values, [name]: value });\n    setError({ ...error, [name]: e.target.validationMessage });\n    setIsFormValid(e.target.closest('form').checkValidity());\n  }\n\n  // функция сбрасывает ошибки при закрытии попапа/сабмита формы\n  function resetForm() {\n    setValues({});\n    setIsFormValid(false);\n    setError({});\n  }\n\n  // Хук для проверки токена при каждом монтировании компонента App\n  React.useEffect(() => {\n    const jwt = localStorage.getItem('jwt');\n    if (jwt) {\n      auth.getContent(jwt)\n        .then((res) => {\n          if (res) {\n            setLoggedIn(true);\n            setUserEmail(res.email);\n            history.push('/');\n          }\n        })\n        .catch(err => console.log(err));\n    }\n  }, [history]);\n\n  // Получить данные пользователя\n  React.useEffect(() => {\n    setIsLoading(true);\n    api\n      .getUserInfo(token)\n      .then(data => {\n        setCurrentUser(data);\n      })\n      .catch(err => console.log(`Ошибка: ${err.message}`))\n      .finally(() => {\n        setIsLoading(false);\n      });\n  },[token]);\n\n  // Получить массив карточек из сервера\n  React.useEffect(() => {\n    setIsLoading(true);\n    api\n      .getInitialCards(token)\n      .then(data => {\n        setCards(data)\n      })\n      .catch(err => console.log(`Ошибка: ${err}`))\n      .finally(() => {\n        setIsLoading(false);\n      });\n  },[token]);\n\n  // Закрытие попапов при клике на Esc и на overlay\n  React.useEffect(() => {\n    // закрыть попап при клике на Esc\n    function handleEscClose(event) {\n      if (event.key === \"Escape\") {\n        closeAllPopups();\n      }\n    }\n\n    // закрыть попап при клике на overlay\n    function closeByOverlay(event) {\n      if (event.target.classList.contains('popup_opened')) {\n        closeAllPopups();\n      }\n    }\n\n    document.addEventListener('click', closeByOverlay);\n    document.addEventListener('keydown', handleEscClose);\n\n    return () => {\n      document.removeEventListener('keydown', handleEscClose);\n      document.removeEventListener('click', closeByOverlay);\n    }\n  });\n\n  // Колбек для открытия DeleteCardPopup\n  function handleDeleteCardClick(card) {\n    setIsDeleteCardPopupOpen(true);\n    setCardToDelete(card)\n  }\n\n  // Колбек для открытия EditProfilePopup\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  // Колбек для открытия EditAvatarPopup\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  // Колбек для открытия EditProfilePopup\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  // Колбек для открытия ImagePopup\n  function handleCardClick(card) {\n    setSelectedCard({\n      isImagePopupOpen: true,\n      link: card.link,\n      name: card.name\n    });\n  }\n\n  // Закрыть все попапы\n  function closeAllPopups() {\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setSelectedCard({\n      isImagePopupOpen: false,\n      link: '',\n      name: ''\n    });\n    setIsDeleteCardPopupOpen(false);\n    setIsInfoTooltipOpen(false);\n    setPopupInfo({\n      iconPath: loader,\n      popupMessage: ''\n    });\n    resetForm();\n  }\n\n  // Обновить данные пользователя\n  function handleUpdateUser(userData) {\n    setIsLoading(true);\n    api\n      .updateUserInfo(userData, token)\n      .then((newUserData) => {\n        setCurrentUser(newUserData)\n      })\n      .catch(err => console.log(`Ошибка: ${err}`))\n      .finally(() => {\n        closeAllPopups();\n        setIsLoading(false);\n      });\n  }\n\n  // Обновить аватар\n  function handleUpdateAvatar(userData) {\n    setIsLoading(true);\n    api\n      .updateUserAvatar(userData, token)\n      .then((newUserData) => {\n        setCurrentUser(newUserData)\n      })\n      .catch(err => console.log(`Ошибка: ${err}`))\n      .finally(() => {\n        closeAllPopups();\n        setIsLoading(false);\n      });\n  }\n\n  // Поставить/убрать лайк карточке\n  function handleCardLike(card) {\n    // Проверить, есть ли уже лайк на этой карточке\n    const isLiked = card.likes.some(i => i === currentUser._id);\n    // Отправить запрос в API и получить обновлённые данные карточки\n    api\n      .changeLikeCardStatus(card, !isLiked, token)\n      .then((newCard) => {\n        // Сформировать новый массив на основе имеющегося, подставляя в него новую карточку\n        const newCards = cards.map((item) => item._id === card._id ? newCard : item);\n        // Обновить стейт\n        setCards(newCards);\n      })\n      .catch(err => console.log(`Ошибка: ${err}`))\n  }\n\n  // Удалить карточку\n  function handleCardDelete() {\n    setIsLoading(true);\n    api\n      .deletePhoto(cardToDelete, token)\n      .then(() => {\n        // Сформировать новый массив на основе имеющегося, без удаленной карточки\n        const newCards = cards.filter((item) => item !== cardToDelete);\n        setCards(newCards);\n      })\n      .catch(err => console.log(`Ошибка: ${err}`))\n      .finally(() => {\n        closeAllPopups();\n        setIsLoading(false);\n      });\n  }\n\n  // Добавить карточку\n  function handleAddPlaceSubmit(newCard) {\n    setIsLoading(true);\n    api\n      .addNewCard(newCard, token)\n      .then((newCardData) => {\n        setCards([newCardData, ...cards]);\n      })\n      .catch(err => console.log(`Ошибка: ${err}`))\n      .finally(() => {\n        closeAllPopups();\n        setIsLoading(false);\n      });\n  }\n\n  // Регистрация пользователя\n  function handleUserRegister(password, email) {\n    return auth.register(password, email)\n      .then((res) => {\n        if (res.data) {\n          setIsInfoTooltipOpen(true);\n          setPopupInfo({\n            iconPath: successPopupIcon,\n            popupMessage: 'Вы успешно зарегистрировались!'\n          })\n          history.push('/sign-in');\n        }\n      })\n      .catch((err) => {\n        console.log(err)\n        setIsInfoTooltipOpen(true);\n        setPopupInfo({\n          iconPath: errorPopupIcon,\n          popupMessage: err.message\n        })\n      })\n  }\n\n  // Логин пользователя\n  function handleLogin(password, email) {\n    return auth.authorize(password, email)\n      .then((data) => {\n        if (!data) {\n          throw new Error('Что-то пошло не так!');\n        }\n        setToken(data.token);\n        auth.getContent(data.token)\n          .then((res) => {\n            setUserEmail(res.email);\n          })\n          .catch(err => console.log(err));\n\n        if (data.token) {\n          setPopupInfo({\n            iconPath: successPopupIcon,\n            popupMessage: 'Вы успешно вошли!'\n          })\n          setLoggedIn(true);\n          setIsInfoTooltipOpen(true);\n        }\n      })\n      .catch((err) => {\n        setPopupInfo({\n          iconPath: errorPopupIcon,\n          popupMessage: err.message\n        })\n        setIsInfoTooltipOpen(true);\n      })\n  }\n\n  // Выход пользователя из системы\n  function handleSignOut() {\n    setLoggedIn(false);\n    localStorage.removeItem('jwt');\n    setUserEmail('');\n    history.push('/sign-up');\n  }\n\n  return (\n    <div className=\"page\">\n      <CurrentUserContext.Provider value={currentUser}>\n        <Header\n          userEmail={userEmail}\n          onSignOut={handleSignOut}\n        />\n        <Switch>\n          <ProtectedRoute exact path=\"/\" loggedIn={loggedIn} component={Main}\n            onEditAvatar={handleEditAvatarClick}\n            onEditProfile={handleEditProfileClick}\n            onAddPlace={handleAddPlaceClick}\n            onCardClick={handleCardClick}\n            cards={cards}\n            onCardLike={handleCardLike}\n            onCardDeletePopup={handleDeleteCardClick}\n            isLoading={isLoading}\n          />\n\n          <Route path=\"/sign-in\">\n            <Login\n              onLogin={handleLogin}\n              error={error}\n              values={values}\n              isFormValid={isFormValid}\n              handleChange={handleChange}\n            />\n          </Route>\n          <Route path=\"/sign-up\">\n            <Register\n              onRegister={handleUserRegister}\n              error={error}\n              values={values}\n              isFormValid={isFormValid}\n              handleChange={handleChange}\n            />\n          </Route>\n          <Route>\n            {loggedIn ? <Redirect to=\"/\" /> : <Redirect to=\"/sign-in\" />}\n          </Route>\n        </Switch>\n\n        <section className=\"popups\">\n          <InfoTooltip\n            isOpen={isInfoTooltipOpen}\n            onClose={closeAllPopups}\n            popupInfo={popupInfo}\n          />\n\n          <EditProfilePopup\n            isOpen={isEditProfilePopupOpen}\n            onClose={closeAllPopups}\n            onUpdateUser={handleUpdateUser}\n            isLoading={isLoading}\n            buttonText={'Сохранить'}\n            buttonTextLoading={'Сохранение...'}\n            error={error}\n            values={values}\n            isFormValid={isFormValid}\n            handleChange={handleChange}\n          />\n\n          <AddPlacePopup\n            isOpen={isAddPlacePopupOpen}\n            onClose={closeAllPopups}\n            onAddCard={handleAddPlaceSubmit}\n            isLoading={isLoading}\n            buttonText={'Добавить'}\n            buttonTextLoading={'Сохранение...'}\n            error={error}\n            values={values}\n            isFormValid={isFormValid}\n            handleChange={handleChange}\n          />\n\n          <EditAvatarPopup\n            isOpen={isEditAvatarPopupOpen}\n            onClose={closeAllPopups}\n            onUpdateAvatar={handleUpdateAvatar}\n            isLoading={isLoading}\n            buttonText={'Изменить'}\n            buttonTextLoading={'Сохранение...'}\n            error={error}\n            values={values}\n            isFormValid={isFormValid}\n            handleChange={handleChange}\n          />\n\n          <ImagePopup\n            card={selectedCard}\n            onClose={closeAllPopups}\n          />\n\n          <DeleteCardPopup\n            isOpen={isDeleteCardPopupOpen}\n            onClose={closeAllPopups}\n            isLoading={isLoading}\n            onConfirmDelete={handleCardDelete}\n            buttonText={'Удалить'}\n            buttonTextLoading={'Удаление...'}\n          />\n        </section>\n\n        <Footer />\n      </CurrentUserContext.Provider>\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport * as serviceWorker from './serviceWorker';\nimport { BrowserRouter } from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n\n\n"],"sourceRoot":""}